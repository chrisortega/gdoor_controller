<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Abre Puerta Garage</title>
    
    <link href="static/bootstrap.min.css"  rel="stylesheet"  >
    <script src="static/bootstrap.bundle.min.js"></script>
    <script src="static/jquery-3.6.4.min.js"></script>


</head>

<style>
    .btn-custom {

  font-size: 150px;
  display: block;
    margin: 10px 0;
    padding: 10px;
    width: 100%;

}
.col-md-12{
    margin: 1px;;
}
</style>
<body>

<nav class="navbar bg-body-tertiary">
  <form class="container-fluid justify-content-start">


  </form>
</nav>
    <main>
   

      
        <section class="py-5 text-center container">
            <div class="row ">
             

                <div class="row ">
                    <div class="col-md-12">
                        <button class="btn btn-custom btn-primary others" id="toglebutton" onclick="toggle()">Abre</button>
                    </div>
                    <div class="col-md-12">
                        <button class="btn btn-custom btn-danger panic" id="panic" onclick="panic()">Alto</button>
                    </div>
                    <div class="col-md-12">
                        <button class="btn btn-custom btn-dark panic" id="calibrate" onclick="calibrate()">Calb</button>
                    </div>
      
                 </div>
            </div>
          </section>   
           

 
      
      
      
           

         

 
      </main>


</body>
</html>

<script>
    function toggle(){
     
        $.get("/api/toggle",function(data){
            console.log(data)
           
        })
    }
    function panic(){
     
     $.get("/api/panic",function(data){
         console.log(data)
        
     })
 }


 function calibrate(){
     
     $.get("/api/calibrate",function(data){
         console.log(data)
        
     })
 }
    function abre(){
      

        $.get("/api/open",function(data){
            console.log(data)
            
        })
    }
    function cierra(){

        $.get("/api/close",function(data){
            console.log(data)
       
        })
    }

    function offstate(sw){
        
        $("#sw"+sw).removeClass("text-bg-secondary").addClass("text-bg-success")
       
    }
    function onstate(sw){
        $("#sw"+sw).removeClass("text-bg-success").addClass("text-bg-primary")
       
    }
    /*
    setInterval(function () {
        
        $.get("/api/pin/state/10",function(data){
            if (data ===  "False"){
                onstate("10")
            }else{
                offstate("10")
            }

        })
        
        $.get("/api/pin/state/22",function(data){
            if (data ===  "False"){
                onstate("22")
            }else{
                offstate("22")
            }
        })

    }, 5000);
    */

</script>
